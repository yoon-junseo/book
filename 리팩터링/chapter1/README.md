## 예시 프로그램을 본 소감

- 코드가 '지저분하다'는 이유로 리팩터링을 하는 것은 컴파일러 입장에서는 상관 없다. 하지만 코드를 수정하는 것은 사람이기 때문에 코드가 이해하기 쉽게 짜져있다면 좋다.
- 프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 리팩터링하고 원하는 기능을 추가하자

<br />

## 리팩터링의 첫 단계

- 리팩터링의 첫 단계는 리팩터링할 코드 영역을 꼼꼼하게 검사해줄 테스트 코드를 마련하는 것이다.

<br />

## statement() 함수 쪼개기

- 아무리 간단한 수정이라도 리팩터링 후에는 항상 테스트하는 습관을 들이는 것이 바람직하다.
- 한 가지를 수정할 때마다 테스트하면, 오류가 생기더라도 변경 폭이 작기 때문에 살펴볼 범위도 좁아서 문제를 찾고 해결하기가 훨씬 쉽다.
- 조금씩 수정하여 피드백 주기를 짧게 가져가는 습관이 바람직하다.
- 자바스크립트와 같은 동적 타입 언어에는 타입이 명확히 드러나게 작성하는 것이 좋다.
- 매개 변수의 역할이 뚜렷하지 않은 경우 부정 관사(a/an)을 붙인다.
  좋은 코드라면 하는 일이 명확히 드러나야 하며, 변수 이름이 큰 역할을 한다.
- 지역 변수를 제거하면 함수 추출 작업이 쉬워진다.
- 임시 변수에 함수의 리턴 값을 대입하지 말고, 함수를 직접 선언해 사용하도록 바꾸는 편이 낫다.
- 리팩터링으로 인해 성능이 떨어졌다면, 리팩터링 후 시간을 내어 성능을 개선하자.

<br />

## 계산 단계와 포맷팅 단계 분리하기

- 가변 데이터는 금방 상하기 때문에 데이터를 최대한 불변처럼 취급하는 것이 좋다.
- 반복문이 길어지면 반복문을 파이프라인으로 바꾸는 것이 좋다. (가령, 배열의 고차 함수 사용)

 <br />

## 다형성을 활용해 계산 코드 재구성하기

- 조건부 로직을 다형성을 통해 해결할 수 있다.

<br />

## 마치며

- 리팩터링은 대부분 코드가 하는 일을 파악하는 데서 시작한다. 코드를 읽고, 개선점을 찾고, 리팩터링 작업을 통해 개선점을 코드에 반영하는 식으로 진행한다.

## 느낀점

- 리팩터링에는 테스트 코드가 필요하다.
- 코드를 분석하고 리팩터링을 시작하자.
- 리팩터링은 작은 단위부터 시작하자.
